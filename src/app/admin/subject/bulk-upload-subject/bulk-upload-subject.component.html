<app-admin-header></app-admin-header>

<main>
    <div class="form-title">
        <h6>Bulk Upload Subject Details :</h6>
    </div>
    <div class="card form-data" *ngIf="formStep == 1">
        <div class="card-body">
            <!-- <form #classForm="ngForm"></form> -->
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="container card-0 justify-content-center ">
                            <div class="card-body px-sm-4 px-0">
                                <div class="row justify-content-center round">
                                    <div class="col-lg-10 col-md-12 ">
                                        <div class="card-1">
                                            <div class="inner-card">
                                                <div class="row justify-content-center">
                                                    <div class="col-md-12 col-lg-10 col-12">
                                                        <div class="form-group files">
                                                            <label class="my-auto">Upload Your File</label>
                                                            <br><br>
                                                            <div class="form-group">
                                                                <label for="configname" class="field-required">Select Config</label>
                                                                <div class="form-group">
                                                                    <div class="form-check-inline">
                                                                        <label class="form-check-label d-flex align-items-center">
                                                                            <input type="radio" class="form-check-input" name="configname" id="configyes">
                                                                            <span>With School</span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="form-check-inline ml-5">
                                                                        <label class="form-check-label d-flex align-items-center">
                                                                            <input type="radio" class="form-check-input" name="configname" id="configno">
                                                                            <span>Without School</span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="schoolname" class="field-required">School</label>
                                                                <select class="form-control" name="schoolname" id="schoolid" [(ngModel)]="selectSchoolId" required>
                                                                    <option value="null" selected disabled>Select School :</option>
                                                                    <option [value]="item.school_id" *ngFor="let item of schoolsList;">
                                                                        {{ item?.schoolName }}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <br>
                                                            <input id="file" type="file" class="form-control" #fileInput
                                                                (change)="handleFile($event)" />
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="col-md-12 col-lg-10 col-12 d-flex justify-content-between align-items-baseline">
                                                        <div class="form-group input-group">
                                                            <button class="btn btn-action-download" type="submit"
                                                                (click)="downloadExcelFile()"
                                                                *ngIf="!excelSpinner">Download A File</button>
                                                            <div class="d-flex loading" *ngIf="excelSpinner">
                                                                <span><i class="fas fa-spinner fa-spin"></i></span>
                                                                <span class="ml-2">
                                                                    A sample excel file is downloading...
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="form-group input-group justify-content-end">
                                                            <button class="btn btn-action-clear" type="reset"
                                                                (click)="resetUpload()">Reset</button>
                                                            <button class="btn btn-action-upload ml-2" type="submit"
                                                                (click)="openUploadModal()">Upload</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card form-data" *ngIf="formStep == 2">
        <div class="card-header d-flex justify-content-between align-items-baseline">
            <div class="d-flex align-items-baseline" *ngIf="!viewSubjects">
                <label for="">Uploaded Class Linked Subjects Details :</label>
                <div class="form-group ml-2">
                    <select name="uploadname" id="uploadid" class="form-control" [(ngModel)]="selectUpload">
                        <option value="valid">Valid - 10</option>
                        <option value="invalid">Invalid - 15</option>
                    </select>
                </div>
            </div>
            <button class="btn btn-action-back" *ngIf="viewSubjects" (click)="viewSubjects = false;">
                <span><i class="pi pi-arrow-left"></i></span>
                <span class="ml-2">Back</span>
            </button>
            <div class="form-group input-group" style="width: 50% !important;">
                <input type="text" class="form-control" name="searchname" id="searchnameid" placeholder="Quick search"
                    [(ngModel)]="searchQuery" (keyup.enter)="onSearchSchool()" (keypress.enter)="onSearchSchool()">
                <div class="input-group-append">
                    <button class="btn btn-action-search">
                        <span *ngIf="!searchQuery"><i class="pi pi-search"></i></span>
                        <span *ngIf="searchQuery"><i class="pi pi-check"></i></span>
                    </button>
                    <button class="btn btn-action-reset ml-2" [disabled]="!searchQuery" (click)="resetSearchFilters()">
                        <span><i class="pi pi-times"></i></span>
                    </button>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="container-fluid" *ngIf="selectUpload === 'valid'">
                <div class="row">
                    <div class="col-md-12 mx-auto" *ngIf="!viewSubjects">
                        <div class="accordion shadow" id="accordianCollapseExample">
                            <div class="card" *ngFor="let item of validSubjects; let i=index;">
                                <div class="card-header bg-white shadow-sm border-0 d-flex justify-content-between align-items-baseline"
                                id="headingOne">
                                    <h6 class="mb-0">
                                        <button class="btn btn-link text-dark font-weight-bold text-uppercase collapsible-link" type="button" data-toggle="collapse" [attr.data-target]="'#collapseOne'+i" aria-expanded="false" aria-controls="collapseOne">
                                            {{ item?.schoolName }}
                                        </button>
                                    </h6>
                                    <div class="form-group actions justify-content-around align-items-baseline">
                                        <button class="btn btn-action-delete ml-2" type="submit" data-toggle="tooltip" data-placement="top" title="Delete" (click)="onSelectSchool(item, 'delete')">
                                            <span><i class="fas fa-trash-alt"></i></span>
                                        </button>
                                    </div>
                                </div>
                                <!-- [ngClass]="{'show': i == 0 ? true : false}" -->
                                <div class="collapse" [id]="'collapseOne'+i" aria-labelledby="headingOne" data-parent="#accordianCollapseExample">
                                    <div class="card-body p-3 ml-2">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <table class="table table-borderless table-hover table-striped">
                                                        <thead>
                                                            <tr scope="col">
                                                                <th class="text-center">S.No</th>
                                                                <th>Class Name</th>
                                                                <th>No.of Sections</th>
                                                                <th>No.of Subjects</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr scope="row"
                                                                *ngFor="let data of item['classes']; let j = index;">
                                                                <td class="text-center">{{ j + 1 }}</td>
                                                                <td>{{ data?.className }}</td>
                                                                <td class="td-section">
                                                                    <span data-toggle="tooltip" data-placement="top" title="View Sections"
                                                                        (click)="onSelectClass(item, data, 'sections')">
                                                                        {{ data?.sectionsCount }}
                                                                    </span>
                                                                </td>
                                                                <td>{{ data?.subjectsCount }}</td>
                                                                <td class="td-action">
                                                                    <div class="dropdown">
                                                                        <span id="dropdownMenuButton"
                                                                            data-toggle="dropdown"
                                                                            aria-expanded="false">
                                                                            <i class="pi pi-ellipsis-h"
                                                                                style="font-size: 1.5rem;color: #999;"></i>
                                                                        </span>
                                                                        <div class="dropdown-menu dropdown-menu-right p-0"
                                                                            aria-labelledby="dropdownMenuButton">
                                                                            <a class="dropdown-item d-flex"
                                                                                *ngIf="data?.status === 1"
                                                                                (click)="onSelectClass(item, data, 'subjects')">
                                                                                <span><i class="pi pi-trash"></i></span>
                                                                                <span class="ml-2">Subjects</span>
                                                                            </a>
                                                                            <a class="dropdown-item d-flex"
                                                                                *ngIf="data?.status === 1"
                                                                                (click)="onSelectClass(item, data, 'delete')">
                                                                                <span><i class="pi pi-trash"></i></span>
                                                                                <span class="ml-2">Delete</span>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr scope="row" style="background: white !important;"
                                                                *ngIf="item['classes']?.length == 0">
                                                                <td></td>
                                                                <td></td>
                                                                <td>
                                                                    <div class="no-data" style="width: 50px;">
                                                                        <div class="no-data-img">
                                                                            <img src="../../../../assets/images/no-data-found.png"
                                                                                alt="_noDataImg"
                                                                                class="rounded-circle img-responsive">
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div class="pagination d-flex justify-content-between">
                                            <div class="left-side d-flex align-items-center"
                                                style="width: 30% !important;">
                                                <span>Showing</span>
                                                <span class="ml-2">1 - 5</span>
                                                <span class="ml-2">out of 10 entries</span>
                                            </div>
                                            <div class="right-side">
                                                <ul
                                                    class="list-group list-group-flush pagination-list d-flex align-items-center">
                                                    <li class="list-group-item"><<</li>
                                                    <li class="list-group-item ml-2">Prev</li>
                                                    <li class="list-group-item active ml-2">1</li>
                                                    <li class="list-group-item ml-2">2</li>
                                                    <li class="list-group-item ml-2">3</li>
                                                    <li class="list-group-item ml-2">4</li>
                                                    <li class="list-group-item ml-2">5</li>
                                                    <li class="list-group-item ml-2">Next</li>
                                                    <li class="list-group-item ml-2">>></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 subjects-table" *ngIf="viewSubjects">
                        <div class="d-flex justify-content-start align-items-baseline row">
                            <p class="d-flex align-items-baseline p1 col-6">
                                <span class="title">School Name :</span>
                                <span class="data ml-2">Test School 0</span>
                            </p>
                            <p class="d-flex align-items-baseline p2 col-6">
                                <span class="title">Class Name :</span>
                                <span class="data ml-2">Class I</span>
                            </p>
                        </div>
                        <table class="table table-borderless table-hover table-striped">
                            <thead>
                                <tr scope="col">
                                    <th class="text-center">S.No</th>
                                    <th>Subject Name</th>
                                    <th>Subject Type</th>
                                    <th>Status</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr scope="row" *ngFor="let item of editClassItem['subjects']; let i = index;">
                                    <td class="text-center">{{ i + 1 }}</td>
                                    <td>{{ item?.subjectName }}</td>
                                    <td>{{ item?.subjectType }}</td>
                                    <td class="td-status">
                                        <span class="d-flex active" *ngIf="item?.status === 1">
                                            <span><i class="pi pi-check-circle"></i></span>
                                            <span class="ml-2">Active</span>
                                        </span>
                                        <span class="d-flex inactive" *ngIf="item?.status === 0">
                                            <span><i class="pi pi-times-circle"></i></span>
                                            <span class="ml-2">Inactive</span>
                                        </span>
                                    </td>
                                    <td class="td-action">
                                        <div class="dropdown">
                                            <span id="dropdownMenuButton" data-toggle="dropdown" aria-expanded="false">
                                                <i class="pi pi-ellipsis-h" style="font-size: 1.5rem;color: #999;"></i>
                                            </span>
                                            <div class="dropdown-menu dropdown-menu-right p-0"
                                                aria-labelledby="dropdownMenuButton">
                                                <a class="dropdown-item d-flex" *ngIf="item?.status === 1"
                                                    (click)="onSelectSubject(editSchoolItem, editClassItem, item, 'delete')">
                                                    <span><i class="pi pi-trash"></i></span>
                                                    <span class="ml-2">Delete</span>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr scope="row" style="background: white !important;" *ngIf="editClassItem['subjects']?.length == 0">
                                    <td></td>
                                    <td></td>
                                    <td>
                                        <div class="no-data" style="width: 50px;">
                                            <div class="no-data-img">
                                                <img src="../../../../assets/images/no-data-found.png" alt="_noDataImg"
                                                    class="rounded-circle img-responsive">
                                            </div>
                                        </div>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="pagination d-flex justify-content-between">
                            <div class="left-side d-flex align-items-center"
                                style="width: 30% !important;">
                                <span>Showing</span>
                                <span class="ml-2">1 - 5</span>
                                <span class="ml-2">out of 10 entries</span>
                            </div>
                            <div class="right-side">
                                <ul
                                    class="list-group list-group-flush pagination-list d-flex align-items-center">
                                    <li class="list-group-item"><<</li>
                                    <li class="list-group-item ml-2">Prev</li>
                                    <li class="list-group-item active ml-2">1</li>
                                    <li class="list-group-item ml-2">2</li>
                                    <li class="list-group-item ml-2">3</li>
                                    <li class="list-group-item ml-2">4</li>
                                    <li class="list-group-item ml-2">5</li>
                                    <li class="list-group-item ml-2">Next</li>
                                    <li class="list-group-item ml-2">>></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid" *ngIf="selectUpload === 'invalid'">
                <div class="row">
                    <div class="col-md-12 mx-auto" *ngIf="!viewSubjects">
                        <div class="accordion shadow" id="accordianCollapseExample1">
                            <div class="card" *ngFor="let item of invalidSubjects; let i=index;">
                                <div class="card-header bg-white shadow-sm border-0 d-flex justify-content-between align-items-baseline"
                                id="headingOne">
                                    <h6 class="mb-0">
                                        <button class="btn btn-link text-dark font-weight-bold text-uppercase collapsible-link" type="button" data-toggle="collapse" [attr.data-target]="'#collapseOne'+i" aria-expanded="false" aria-controls="collapseOne">
                                            {{ item?.schoolName }}
                                        </button>
                                    </h6>
                                </div>
                                <!-- [ngClass]="{'show': i == 0 ? true : false}" -->
                                <div class="collapse" [id]="'collapseOne'+i" aria-labelledby="headingOne" data-parent="#accordianCollapseExample1">
                                    <div class="card-body p-3 ml-2">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <table class="table table-borderless table-hover table-striped">
                                                        <thead>
                                                            <tr scope="col">
                                                                <th class="text-center">S.No</th>
                                                                <th>Class Name</th>
                                                                <th>No.of Sections</th>
                                                                <th>No.of Subjects</th>
                                                                <th>Reason</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr scope="row"
                                                                *ngFor="let data of item['classes']; let j = index;">
                                                                <td class="text-center">{{ j + 1 }}</td>
                                                                <td>{{ data?.className }}</td>
                                                                <td class="td-section">
                                                                    <span data-toggle="tooltip" data-placement="top" title="View Sections"
                                                                        (click)="onSelectClass(item, data, 'sections')">
                                                                        {{ data?.sectionsCount }}
                                                                    </span>
                                                                </td>
                                                                <td>{{ data?.subjectsCount }}</td>
                                                                <td>test reason</td>
                                                                <td class="td-action">
                                                                    <div class="dropdown">
                                                                        <span id="dropdownMenuButton"
                                                                            data-toggle="dropdown"
                                                                            aria-expanded="false">
                                                                            <i class="pi pi-ellipsis-h"
                                                                                style="font-size: 1.5rem;color: #999;"></i>
                                                                        </span>
                                                                        <div class="dropdown-menu dropdown-menu-right p-0"
                                                                            aria-labelledby="dropdownMenuButton">
                                                                            <a class="dropdown-item d-flex"
                                                                                *ngIf="data?.status === 1"
                                                                                (click)="onSelectClass(item, data, 'subjects')">
                                                                                <span><i class="pi pi-trash"></i></span>
                                                                                <span class="ml-2">Subjects</span>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr scope="row" style="background: white !important;"
                                                                *ngIf="item['classes']?.length == 0">
                                                                <td></td>
                                                                <td></td>
                                                                <td>
                                                                    <div class="no-data" style="width: 50px;">
                                                                        <div class="no-data-img">
                                                                            <img src="../../../../assets/images/no-data-found.png"
                                                                                alt="_noDataImg"
                                                                                class="rounded-circle img-responsive">
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div class="pagination d-flex justify-content-between">
                                            <div class="left-side d-flex align-items-center"
                                                style="width: 30% !important;">
                                                <span>Showing</span>
                                                <span class="ml-2">1 - 5</span>
                                                <span class="ml-2">out of 10 entries</span>
                                            </div>
                                            <div class="right-side">
                                                <ul
                                                    class="list-group list-group-flush pagination-list d-flex align-items-center">
                                                    <li class="list-group-item"><<</li>
                                                    <li class="list-group-item ml-2">Prev</li>
                                                    <li class="list-group-item active ml-2">1</li>
                                                    <li class="list-group-item ml-2">2</li>
                                                    <li class="list-group-item ml-2">3</li>
                                                    <li class="list-group-item ml-2">4</li>
                                                    <li class="list-group-item ml-2">5</li>
                                                    <li class="list-group-item ml-2">Next</li>
                                                    <li class="list-group-item ml-2">>></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 subjects-table" *ngIf="viewSubjects">
                        <div class="d-flex justify-content-start align-items-baseline row">
                            <p class="d-flex align-items-baseline p1 col-6">
                                <span class="title">School Name :</span>
                                <span class="data ml-2">Test School 0</span>
                            </p>
                            <p class="d-flex align-items-baseline p2 col-6">
                                <span class="title">Class Name :</span>
                                <span class="data ml-2">Class I</span>
                            </p>
                        </div>
                        <table class="table table-borderless table-hover table-striped">
                            <thead>
                                <tr scope="col">
                                    <th class="text-center">S.No</th>
                                    <th>Subject Name</th>
                                    <th>Subject Type</th>
                                    <th>Status</th>
                                    <th>Reason</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr scope="row" *ngFor="let item of editClassItem['subjects']; let i = index;">
                                    <td class="text-center">{{ i + 1 }}</td>
                                    <td>{{ item?.subjectName }}</td>
                                    <td>{{ item?.subjectType }}</td>
                                    <td class="td-status">
                                        <span class="d-flex active" *ngIf="item?.status === 1">
                                            <span><i class="pi pi-check-circle"></i></span>
                                            <span class="ml-2">Active</span>
                                        </span>
                                        <span class="d-flex inactive" *ngIf="item?.status === 0">
                                            <span><i class="pi pi-times-circle"></i></span>
                                            <span class="ml-2">Inactive</span>
                                        </span>
                                    </td>
                                    <td>test reason</td>
                                </tr>
                                <tr scope="row" style="background: white !important;" *ngIf="editClassItem['subjects']?.length == 0">
                                    <td></td>
                                    <td></td>
                                    <td>
                                        <div class="no-data" style="width: 50px;">
                                            <div class="no-data-img">
                                                <img src="../../../../assets/images/no-data-found.png" alt="_noDataImg"
                                                    class="rounded-circle img-responsive">
                                            </div>
                                        </div>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="pagination d-flex justify-content-between">
                            <div class="left-side d-flex align-items-center"
                                style="width: 30% !important;">
                                <span>Showing</span>
                                <span class="ml-2">1 - 5</span>
                                <span class="ml-2">out of 10 entries</span>
                            </div>
                            <div class="right-side">
                                <ul
                                    class="list-group list-group-flush pagination-list d-flex align-items-center">
                                    <li class="list-group-item"><<</li>
                                    <li class="list-group-item ml-2">Prev</li>
                                    <li class="list-group-item active ml-2">1</li>
                                    <li class="list-group-item ml-2">2</li>
                                    <li class="list-group-item ml-2">3</li>
                                    <li class="list-group-item ml-2">4</li>
                                    <li class="list-group-item ml-2">5</li>
                                    <li class="list-group-item ml-2">Next</li>
                                    <li class="list-group-item ml-2">>></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group input-group">
                            <button class="btn btn-action-previous" (click)="gotoForm(1)">
                                Previous
                            </button>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group input-group justify-content-end">
                            <!-- <button class="btn btn-action-reset">
                                Reset
                            </button> -->
                            <button class="btn btn-action-submit ml-2" data-toggle="modal" data-target="#submitReqModal"
                                (click)="submitReq = 0;">
                                Submit
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <app-admin-sidemenu></app-admin-sidemenu>
</main>

<app-admin-footer></app-admin-footer>

<!-- View Class Sections List -->
<div class="modal fade" id="viewSectionsModal" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="exampleModalLabel">
                    <b>{{ editClassItem['className'] }}</b> <span class="ml-2">Sections List :</span>
                </h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <table class="table table-borderless table-hover table-striped">
                    <thead>
                        <tr scope="col">
                            <th class="text-center">S.No</th>
                            <th>Section Name</th>
                            <th>No.of Students</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr scope="row" *ngFor="let item of editClassItem['sections']; let i = index;">
                            <td class="text-center">{{ i + 1 }}</td>
                            <td>{{ item?.sectionName }}</td>
                            <td>{{ item?.studentsCount }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Upload request modal -->
<div class="modal fade" id="uploadReqModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header" *ngIf="uploadReq == 0">
                <h6 class="modal-title" id="exampleModalLabel">{{ action | titlecase }} Class Link Subjects Confirmation</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="uploadReq == 0">
                    <p class="text-center">Are you sure, you want to {{ action | lowercase }} class link subjects details?</p>
                    <span class="text-center text-muted">
                        <em>This change will reflect in your portal after sometime.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="uploadReq == 1">
                    <br>
                    <span class="text-center text-muted">
                        <span><i class="pi pi-spin pi-spinner" style="font-size: 2rem;"></i></span>
                    </span>
                </ng-container>
                <ng-container *ngIf="uploadReq == 2">
                    <span class="text-center">
                        <span><i class="pi pi-check" style="font-size: 2rem;color: seagreen;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Your request is processed successfully.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="uploadReq == 3">
                    <span class="text-center">
                        <span><i class="pi pi-times" style="font-size: 2rem;color: orangered;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Error while processing the request.</em>
                    </span>
                </ng-container>
            </div>
            <div class="modal-footer justify-content-center">
                <ng-container *ngIf="uploadReq == 0">
                    <button type="button" class="btn btn-primary" (click)="uploadExcelFile(2)">
                        {{ action | uppercase }}
                    </button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </ng-container>
                <ng-container *ngIf="uploadReq == 2 || uploadReq == 3">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        (click)="formStep = 2;">Close</button>
                </ng-container>
            </div>
        </div>
    </div>
</div>

<!-- Delete school request modal -->
<div class="modal fade" id="deleteSchoolReqModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header" *ngIf="deleteSchoolReq == 0">
                <h6 class="modal-title" id="exampleModalLabel">{{ action | titlecase }} School Confirmation</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="deleteSchoolReq == 0">
                    <p class="text-center">Are you sure, you want to {{ action | lowercase }} school details?</p>
                    <span class="text-center text-muted">
                        <em>This change will reflect in your portal after sometime.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteSchoolReq == 1">
                    <br>
                    <span class="text-center text-muted">
                        <span><i class="pi pi-spin pi-spinner" style="font-size: 2rem;"></i></span>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteSchoolReq == 2">
                    <span class="text-center">
                        <span><i class="pi pi-check" style="font-size: 2rem;color: seagreen;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Your request is processed successfully.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteSchoolReq == 3">
                    <span class="text-center">
                        <span><i class="pi pi-times" style="font-size: 2rem;color: orangered;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Error while processing the request.</em>
                    </span>
                </ng-container>
            </div>
            <div class="modal-footer justify-content-center">
                <ng-container *ngIf="deleteSchoolReq == 0">
                    <button type="button" class="btn btn-primary" (click)="deleteSchoolData()">
                        {{ action | uppercase }}
                    </button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </ng-container>
                <ng-container *ngIf="deleteSchoolReq == 2 || deleteSchoolReq == 3">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </ng-container>
            </div>
        </div>
    </div>
</div>

<!-- Delete class request modal -->
<div class="modal fade" id="deleteClassReqModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header" *ngIf="deleteClassReq == 0">
                <h6 class="modal-title" id="exampleModalLabel">{{ action | titlecase }} Class Confirmation</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="deleteClassReq == 0">
                    <p class="text-center">Are you sure, you want to {{ action | lowercase }} class details?</p>
                    <span class="text-center text-muted">
                        <em>This change will reflect in your portal after sometime.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteClassReq == 1">
                    <br>
                    <span class="text-center text-muted">
                        <span><i class="pi pi-spin pi-spinner" style="font-size: 2rem;"></i></span>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteClassReq == 2">
                    <span class="text-center">
                        <span><i class="pi pi-check" style="font-size: 2rem;color: seagreen;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Your request is processed successfully.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteClassReq == 3">
                    <span class="text-center">
                        <span><i class="pi pi-times" style="font-size: 2rem;color: orangered;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Error while processing the request.</em>
                    </span>
                </ng-container>
            </div>
            <div class="modal-footer justify-content-center">
                <ng-container *ngIf="deleteClassReq == 0">
                    <button type="button" class="btn btn-primary" (click)="deleteClassData()">
                        {{ action | uppercase }}
                    </button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </ng-container>
                <ng-container *ngIf="deleteClassReq == 2 || deleteClassReq == 3">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </ng-container>
            </div>
        </div>
    </div>
</div>

<!-- Delete subject request modal -->
<div class="modal fade" id="deleteSubjectReqModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header" *ngIf="deleteSubjectReq == 0">
                <h6 class="modal-title" id="exampleModalLabel">{{ action | titlecase }} Subject Confirmation</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="deleteSubjectReq == 0">
                    <p class="text-center">Are you sure, you want to {{ action | lowercase }} subject details?</p>
                    <span class="text-center text-muted">
                        <em>This change will reflect in your portal after sometime.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteSubjectReq == 1">
                    <br>
                    <span class="text-center text-muted">
                        <span><i class="pi pi-spin pi-spinner" style="font-size: 2rem;"></i></span>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteSubjectReq == 2">
                    <span class="text-center">
                        <span><i class="pi pi-check" style="font-size: 2rem;color: seagreen;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Your request is processed successfully.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="deleteSubjectReq == 3">
                    <span class="text-center">
                        <span><i class="pi pi-times" style="font-size: 2rem;color: orangered;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Error while processing the request.</em>
                    </span>
                </ng-container>
            </div>
            <div class="modal-footer justify-content-center">
                <ng-container *ngIf="deleteSubjectReq == 0">
                    <button type="button" class="btn btn-primary" (click)="deleteSubjectData()">
                        {{ action | uppercase }}
                    </button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </ng-container>
                <ng-container *ngIf="deleteSubjectReq == 2 || deleteSubjectReq == 3">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </ng-container>
            </div>
        </div>
    </div>
</div>

<!-- Submit request modal -->
<div class="modal fade" id="submitReqModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header" *ngIf="submitReq == 0">
                <h6 class="modal-title" id="exampleModalLabel">{{ action | titlecase }} Subject Confirmation</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="submitReq == 0">
                    <p class="text-center">
                        Are you sure, you want to bulk upload subject details?
                    </p>
                    <span class="text-center text-muted">
                        <em>This change will reflect in your portal after sometime.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="submitReq == 1">
                    <br>
                    <span class="text-center text-muted">
                        <span><i class="pi pi-spin pi-spinner" style="font-size: 2rem;"></i></span>
                    </span>
                </ng-container>
                <ng-container *ngIf="submitReq == 2">
                    <span class="text-center">
                        <span><i class="pi pi-check" style="font-size: 2rem;color: seagreen;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Your request is processed successfully.</em>
                    </span>
                </ng-container>
                <ng-container *ngIf="submitReq == 3">
                    <span class="text-center">
                        <span><i class="pi pi-times" style="font-size: 2rem;color: orangered;"></i></span>
                    </span>
                    <br>
                    <span class="text-center text-muted" style="font-size: 1rem;">
                        <em>Error while processing the request.</em>
                    </span>
                </ng-container>
            </div>
            <div class="modal-footer justify-content-center">
                <ng-container *ngIf="submitReq == 0">
                    <button type="button" class="btn btn-primary" (click)="saveData()">Save changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </ng-container>
                <ng-container *ngIf="submitReq == 2 || submitReq == 3">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </ng-container>
            </div>
        </div>
    </div>
</div>